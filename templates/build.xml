<?xml version="1.0" encoding="UTF-8"?>
<project name="<%= @spec[:name] %>">
    <path id="android.antlibs">
        <pathelement path="${sdk.dir}/tools/lib/anttasks.jar" />
        <pathelement path="${sdk.dir}/tools/lib/sdklib.jar" />
        <pathelement path="${sdk.dir}/tools/lib/androidprefs.jar" />
    </path>

    <taskdef name="setup"
        classname="com.android.ant.SetupTask"
        classpathref="android.antlibs" />

    <target name="javac" description="Compiles R.java and other gen/ files.">
      <javac srcdir="gen" destdir="${classes}" includeantruntime="false" />
    </target>

    <target name="compile" depends="-resource-src, -aidl, javac"
            description="Compiles project's .mirah files into .class files">
      <exec executable="mirahc" dir="src">
        <arg line="-c ${classpath}" />
        <arg line="-d ${classes}" />
        <arg value="." />
      </exec>
    </target>

    <setup />
</project>
